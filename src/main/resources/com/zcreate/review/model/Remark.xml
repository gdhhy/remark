<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Remark">
    <cache eviction="LRU" readOnly="false" flushInterval="86400000" size="10000"/>
    <resultMap id="RemarkResult" type="com.zcreate.review.model.Remark">
        <result column="remarkID" jdbcType="INTEGER" property="remarkID"/>
        <result column="objectID" jdbcType="INTEGER" property="objectID"/>
        <result column="objectType" jdbcType="VARCHAR" property="objectType"/>
        <result column="remarkType" jdbcType="VARCHAR" property="remarkType"/>
        <result column="remark" jdbcType="VARCHAR" property="remark"/>
        <result column="remarkTime" jdbcType="TIMESTAMP" property="remarkTime"/>
    </resultMap>

    <select id="selectRemark" resultMap="RemarkResult">
        SELECT remarkID, objectID, objectType, remarkType, remartTime
        FROM Remark
        ORDER BY remartTime desc
    </select>
    <select id="getRemark" parameterType="int" resultMap="RemarkResult">
        SELECT remarkID, objectID, objectType, remarkType, remartTime
        FROM Remark
        WHERE remarkID = #{remarkID:INTEGER}
    </select>
    <insert id="insertRemark" parameterType="com.zcreate.review.model.Remark" flushCache="true">
        INSERT INTO Remark (objectID, objectType, remarkType,remark)
        VALUES (#{objectID:INTEGER}, #{objectType:VARCHAR}, #{remarkType:VARCHAR}, #{remark:VARCHAR})
    </insert>

    <update id="updateRemark" parameterType="com.zcreate.review.model.Remark" flushCache="true">
        UPDATE Remark
        <set>
            remark=#{remark:VARCHAR},
        </set>
        WHERE remarkID=#{remarkID:INTEGER}
    </update>
</mapper>